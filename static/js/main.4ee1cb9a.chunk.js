(this["webpackJsonppokedex-ts"]=this["webpackJsonppokedex-ts"]||[]).push([[2],{104:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(25),a=n(22),c=new r.a(a.b.POKEMON_TYPES)},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(25),a=n(22),c=new r.a(a.b.POKEMONS)},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(25),a=n(22),c=new r.a(a.b.POKEMON_ABILITIES)},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(25),a=n(22),c=new r.a(a.b.POKEMON_MOVES)},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(25),a=n(22),c=new r.a(a.b.POKEMON_MOVESET)},140:function(e,t,n){},141:function(e,t,n){},143:function(e,t){},188:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),i=n(10),o=n.n(i),s=(n(139),n(140),n(141),n(6)),u=n.n(s),l=n(15),p=n(45),b=n(46),d=n(104),f=n(111),h=n(25),j=n(22),O=new h.a(j.b.POKEMON_EVOLUTIONS),x=n(112),v=n(113),m=n(114);var k=n(66),w=(new function e(){var t=this;Object(k.a)(this,e),this.BASE_URL="http://localhost:5000",this.SIGNIN_URL="".concat(this.BASE_URL,"/signin"),this.RENEW_URL="".concat(this.BASE_URL,"/renew-token"),this.accessToken="",this.signin=function(){var e=Object(l.a)(u.a.mark((function e(n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.SIGNIN_URL,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({accessToken:n}),credentials:"include"});case 2:return r=e.sent,e.next=5,r.json();case 5:if(!(a=e.sent).ok){e.next=9;break}return t.setAccessToken(a.accessToken),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.signout=function(){},this.renewToken=Object(l.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.RENEW_URL,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(r=e.sent).ok){e.next=9;break}return t.setAccessToken(r.accessToken),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),this.getAccessToken=function(){return t.accessToken},this.setAccessToken=function(e){t.accessToken=e}},n(47)),g=n(97),y=n(234),E=n(233),L=n(227),T=n(239),N=n(238),S=n(236),P=n(94),V=n.n(P),I=n(229),_=n(230),A=n(231),M=n(232),C=n(95),R=n.n(C),D=n(126),G=n.n(D),B=n(235),U=n(84),K=n(225),z=n(240),W=n(23),Y="/pokemons",F="/pokemons/:id",H="/moves",J="/moves/:id",q="/abilities",$="/abilities/:id",Q="/types",X="/types/:id",Z="/natures",ee="/natures/:id",te={path:Y,name:"Pokedex"},ne={path:H,name:"Move Dex"},re={path:q,name:"Ability Dex"},ae={path:Q,name:"Type Dex"},ce={path:Z,name:"Nature Dex"},ie=[te,ne,re,ae,ce],oe=n(38),se=n(8),ue=function(e){return Object(r.jsx)(a.Suspense,{fallback:e.fallback,children:Object(r.jsx)(se.b,{path:e.path,render:function(t){return e.redirect?Object(r.jsx)(se.a,{to:e.redirect}):e.private?Object(r.jsx)(se.a,{to:"/home/login"}):e.component&&Object(r.jsx)(e.component,Object(oe.a)(Object(oe.a)({},t),{},{routes:e.routes}))}})})},le=function(e){var t=e.routes;return Object(r.jsx)(se.d,{children:t.map((function(e){return Object(r.jsx)(ue,Object(oe.a)({},e),e.path)}))})},pe=n(68),be={isToolbarVisible:!1,currentLink:te,showToolbar:function(){},hideToolbar:function(){},setCurrentLink:function(e){}},de=Object(a.createContext)(be);function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n){var c=Object(a.useContext)(de),i=c.showToolbar,o=c.hideToolbar,s=c.setCurrentLink,u=t.link,l=t.toolbarVisible;return Object(a.useEffect)((function(){return l?i():o(),s(null!==u&&void 0!==u?u:null),function(){o(),s(null)}}),[]),Object(r.jsx)(e,Object(oe.a)({},n))};return n}var he=n(98);function je(){var e=Object(g.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n"]);return je=function(){return e},e}var Oe=240,xe=he.a.main(je()),ve=Object(K.a)((function(e){return Object(z.a)({root:{display:"flex",height:"100%"},drawer:Object(w.a)({},e.breakpoints.up("sm"),{width:Oe,flexShrink:0}),appBar:Object(w.a)({background:"#dd2020"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Oe,"px)"),marginLeft:Oe}),menuButton:Object(w.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:Oe},content:{flexGrow:1,padding:e.spacing(3)},appBarTitle:{fontFamily:"Nunito Sans"}})}));function me(e){var t=e.routes,n=Object(a.useContext)(de),i=n.isToolbarVisible,o=n.currentLink,s=ve(),u=Object(W.a)(),l=c.a.useState(!1),b=Object(p.a)(l,2),d=b[0],f=b[1],h=function(){f(!d)},j=Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:s.toolbar}),Object(r.jsx)(L.a,{}),Object(r.jsx)(I.a,{children:ie.map((function(e,t){return Object(r.jsxs)(_.a,{button:!0,component:pe.a,to:e.path,selected:e===o,children:[Object(r.jsx)(A.a,{children:t%2===0?Object(r.jsx)(V.a,{}):Object(r.jsx)(R.a,{})}),Object(r.jsx)(M.a,{primary:e.name})]},e.name)}))}),Object(r.jsx)(L.a,{}),Object(r.jsx)(I.a,{children:["All mail","Trash","Spam"].map((function(e,t){return Object(r.jsxs)(_.a,{button:!0,children:[Object(r.jsx)(A.a,{children:t%2===0?Object(r.jsx)(V.a,{}):Object(r.jsx)(R.a,{})}),Object(r.jsx)(M.a,{primary:e})]},e)}))})]});return Object(r.jsxs)("div",{className:s.root,children:[Object(r.jsx)(E.a,{}),i&&Object(r.jsx)(y.a,{position:"fixed",className:s.appBar,elevation:0,children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)(S.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:h,className:s.menuButton,children:Object(r.jsx)(G.a,{})}),Object(r.jsx)(U.a,{className:s.appBarTitle,variant:"h6",noWrap:!0,children:null===o||void 0===o?void 0:o.name})]})}),Object(r.jsxs)("nav",{className:s.drawer,"aria-label":"mailbox folders",children:[Object(r.jsx)(N.a,{smUp:!0,implementation:"css",children:Object(r.jsx)(T.a,{variant:"temporary",anchor:"rtl"===u.direction?"right":"left",open:d,onClose:h,classes:{paper:s.drawerPaper},ModalProps:{keepMounted:!0},children:j})}),Object(r.jsx)(N.a,{xsDown:!0,implementation:"css",children:Object(r.jsx)(T.a,{classes:{paper:s.drawerPaper},variant:"permanent",open:!0,children:j})})]}),Object(r.jsxs)(xe,{children:[i&&Object(r.jsx)("div",{className:s.toolbar}),Object(r.jsx)(le,{routes:t})]})]})}var ke=function(e){var t=e.routes,n=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(p.a)(c,2),o=i[0],s=i[1];return{isToolbarVisible:n,currentLink:o,showToolbar:Object(a.useCallback)((function(){r(!0)}),[]),hideToolbar:Object(a.useCallback)((function(){r(!1)}),[]),setCurrentLink:s}}(),c=function(){var e=Object(b.a)(f.a),t=Object(b.a)(O),n=Object(b.a)(v.a),r=Object(b.a)(m.a),c=Object(b.a)(d.a),i=Object(b.a)(x.a);return{sync:Object(a.useCallback)(Object(l.a)(u.a.mark((function a(){var o,s,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=performance.now(),s=[e.replicateToLocal(4),c.replicateToLocal(),i.replicateToLocal(),t.replicateToLocal(2)],a.next=4,Promise.all(s);case 4:return l=[n.replicateToLocal(3),r.replicateToLocal(4)],a.next=7,Promise.all(l);case 7:console.log(performance.now()-o);case 8:case"end":return a.stop()}}),a)}))),[i,t,n,r,e,c])}}().sync,i=Object(a.useState)(!1),o=Object(p.a)(i,2);o[0],o[1];Object(a.useEffect)((function(){c()}),[c]);return Object(r.jsx)(de.Provider,{value:n,children:Object(r.jsx)(me,{routes:t})})},we={PokemonListView:fe(Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(1),n.e(7)]).then(n.bind(null,409))})),{link:te,toolbarVisible:!0}),MoveListView:fe(Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,410))})),{link:ne,toolbarVisible:!0}),AbilityListView:fe(Object(a.lazy)((function(){return n.e(11).then(n.bind(null,403))})),{link:re,toolbarVisible:!0}),TypeListView:fe(Object(a.lazy)((function(){return n.e(16).then(n.bind(null,404))})),{link:ae,toolbarVisible:!0}),NatureListView:fe(Object(a.lazy)((function(){return n.e(14).then(n.bind(null,405))})),{link:ce,toolbarVisible:!0}),PokemonDetailView:function(e){var t=fe(Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5),n.e(1),n.e(9)]).then(n.bind(null,407))}))),c=parseInt(e.match.params.id);return Object(r.jsx)(t,{id:c})},MoveDetailView:Object(a.lazy)((function(){return n.e(12).then(n.bind(null,399))})),AbilityDetailView:Object(a.lazy)((function(){return n.e(10).then(n.bind(null,400))})),TypeDetailView:Object(a.lazy)((function(){return n.e(15).then(n.bind(null,401))})),NatureDetailView:Object(a.lazy)((function(){return n.e(13).then(n.bind(null,402))}))},ge=[{path:"/",exact:!0,redirect:Y,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:Y,component:we.PokemonListView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:F,component:we.PokemonDetailView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:H,component:we.MoveListView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:J,component:we.MoveDetailView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:q,component:we.AbilityListView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:$,component:we.AbilityDetailView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:Q,component:we.TypeListView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:X,component:we.TypeDetailView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:Z,component:we.NatureListView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})},{path:ee,component:we.NatureDetailView,exact:!0,private:!1,fallback:Object(r.jsx)("div",{children:" Loading... "})}];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=n(19);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(se.c,{history:Object(ye.a)(),children:Object(r.jsx)(ke,{routes:ge})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,t,n){"use strict";var r,a,c,i,o,s;n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s})),function(e){e.POKEMONS="pokemons",e.POKEMON_EVOLUTIONS="evolutions",e.POKEMON_MOVES="moves",e.POKEMON_MOVESET="movesets",e.POKEMON_TYPES="types",e.POKEMON_ABILITIES="abilities"}(r||(r={})),function(e){e.NORMAL="normal",e.FIRE="fire",e.FIGHTING="fighting",e.WATER="water",e.FLYING="flying",e.GRASS="grass",e.POISON="poison",e.ELECTRIC="electric",e.GROUND="ground",e.PSYCHIC="psychic",e.ROCK="rock",e.ICE="ice",e.BUG="bug",e.DRAGON="dragon",e.GHOST="ghost",e.DARK="dark",e.STEEL="steel",e.FAIRY="fairy"}(a||(a={})),function(e){e.GEN_1="generation-i",e.GEN_2="generation-ii",e.GEN_3="generation-iii",e.GEN_4="generation-iv",e.GEN_5="generation-v",e.GEN_6="generation-vi",e.GEN_7="generation-vii",e.GEN_8="generation-viii"}(c||(c={})),function(e){e.LEVEL_UP="level_up",e.MACHINE="machine",e.TUTOR="tutor",e.EGG="egg"}(i||(i={})),function(e){e.ASC="asc",e.DESC="desc"}(o||(o={})),function(e){e.PHYSICAL="physical",e.SPECIAL="special",e.STATUS="status"}(s||(s={}))},25:function(e,t,n){"use strict";var r=n(6),a=n.n(r),c=n(15),i=n(66),o=n(99),s=n(64),u=n(116),l=n(117),p=n.n(l),b={username:"3cbe1c8b-b7b5-4ae5-b327-7e46ecd20799-bluemix",password:"699f1c8d45638619f56318e32580a5e6401c253db7aa0f0d5142f7500b1fcf51"};s.a.plugin(p.a),s.a.plugin(n(181));var d=function(){function e(t){Object(i.a)(this,e),this.url=void 0,this.name=void 0,this.local=void 0,this.remote=void 0,this.url="https://".concat(b.username,".cloudantnosqldb.appdomain.cloud/").concat(t),this.name=t,this.local=new s.a(t),this.remote=new s.a(this.url,{auth:b})}return Object(o.a)(e,[{key:"getLocal",value:function(){return this.local}},{key:"getRemote",value:function(){return this.remote}},{key:"getName",value:function(){return this.name}},{key:"markReplicated",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.local.putIfNotExists({_id:"replicated"});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkReplicated",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.local.get("replicated");case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"replicate",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.local,e.next=3,this.checkReplicated();case 3:if(!e.sent){e.next=7;break}return console.log("replication already done"),e.abrupt("return");case 7:if(r="".concat("/pokedex-ts","/assets/localData/").concat(this.name,".txt"),!t){e.next=22;break}for(c=[],i=1;i<=t;i++)c.push(n.load(r.replace(".txt","-".concat(i,".txt"))));return e.prev=11,e.next=14,Promise.all(c);case 14:this.markReplicated(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),console.log(e.t0);case 20:e.next=32;break;case 22:return e.prev=22,console.log("start: "+r),e.next=26,n.load(r);case 26:this.markReplicated(),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),console.log(e.t1);case 32:case"end":return e.stop()}}),e,this,[[11,17],[22,29]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(n.toString());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getManyByIds",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.allDocs({include_docs:!0,keys:n.map((function(e){return e.toString()}))});case 2:if((r=e.sent).rows.every((function(e){return e.doc}))){e.next=5;break}throw new Error("doc not found");case 5:return e.abrupt("return",r.rows.map((function(e){return e.doc})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.info();case 2:if(0!==e.sent.doc_count){e.next=5;break}throw new Error("database is empty");case 5:return n=[],e.next=8,t.allDocs({include_docs:!0});case 8:for(r=e.sent,c=0;c<r.rows.length;c++)"replicated"!==r.rows[c].doc._id&&n.push(r.rows[c].doc);return n=Object(u.a)(n,["id"],["asc"]),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=d},46:function(e,t,n){"use strict";var r=n(6),a=n.n(r),c=n(15),i=n(0);function o(e,t){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(n.getLocal());case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,t(n.getRemote());case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}t.a=function(e){return{replicateToLocal:Object(i.useCallback)(function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.replicate(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),getById:Object(i.useCallback)(function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,o((function(t){return e.getById(t,n)}),e);case 3:return t.abrupt("return",t.sent);case 4:throw new Error("database does not exist");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),getManyByIds:Object(i.useCallback)(function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,o((function(t){return e.getManyByIds(t,n)}),e);case 3:return t.abrupt("return",t.sent);case 4:throw new Error("database does not exist");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),getAll:Object(i.useCallback)(Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,o((function(t){return e.getAll(t)}),e);case 3:return t.abrupt("return",t.sent);case 4:throw new Error("database does not exist");case 5:case"end":return t.stop()}}),t)}))),[e])}}}},[[188,3,4]]]);
//# sourceMappingURL=main.4ee1cb9a.chunk.js.map